<!DOCTYPE html>
<html lang="en-US" oncontextmenu="return false">

<head>
    <title>DPL36 Best Time to Buy and Sell Stock II</title>
    <link rel="icon" type="image/x-icon" href="../photo.jpg" />

    <link rel="stylesheet" id="wp-block-library-css"
        href="https://www.lexalytics.com/wp-includes/css/dist/block-library/style.min.css?ver=6.0.3" type="text/css"
        media="all" />
    <style id="global-styles-inline-css" type="text/css"></style>

    <link rel="stylesheet" id="wd_s-css"
        href="https://www.lexalytics.com/wp-content/themes/wd_s/build/index.css?ver=0c4cbca560ded1aeeb10beb9a609f609"
        type="text/css" media="all" />

    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../style.css" />
</head>

<body
    class="page-template-default page page-id-2597 page-child parent-pageid-2342 wp-embed-responsive site-wrapper page-machine-learning group-blog no-js">
    <a class="skip-link screen-reader-text" href="#main">Skip to content</a>

    <div class="site-main">
        <main id="main" class="content-container">
            <article id="post-2597" class="post-2597 page type-page status-publish hentry">
                <div class="entry-content">
                    <div id="section-block_627ed6b337646" class="block-section relative overflow-hidden 0">
                        <div class="bg-white py-100 bg-cover centerbg- bg-no-repeat CodeStartingDiv">
                            <div class="CodeStartingDiv">

                                <div class="companyLogo">
                                    <img class="companyLogo1"
                                        src="https://1000logos.net/wp-content/uploads/2021/10/logo-Meta.png" alt>
                                    <img class="companyLogo2"
                                        src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Amazon_icon.svg/2500px-Amazon_icon.svg.png"
                                        alt>
                                    <img class="companyLogo3"
                                        src="https://cdn.freebiesupply.com/images/large/2x/apple-logo-transparent.png"
                                        alt>
                                    <img class="companyLogo4"
                                        src="https://cdn-icons-png.flaticon.com/512/732/732228.png" alt>
                                    <img class="companyLogo5"
                                        src="https://cdn1.iconfinder.com/data/icons/google-s-logo/150/Google_Icons-09-512.png"
                                        alt>

                                </div>

                                <h5 class="has-text-align-center">
                                    <mark style="background-color: rgba(0, 0, 0, 0)"
                                        class="has-inline-color has-nebula-color">
                                        Jb Tak Fodega Nhi ðŸŽ¯ Tb Tk Chodega
                                        Nhi ðŸ“š (MAANG)
                                    </mark>

                                    <br><br>

                                    <div class="dsa">
                                        <div class="dsaProfile"><a href="https://leetcode.com/PrinceSingh1/"><img
                                                    src="../dsaProfileImg/lc.png" alt></a></div>
                                        <div class="dsaProfile"><a href="https://leetcode.com/PrinceSingh2/"><img
                                                    src="../dsaProfileImg/lc.png" alt></a></div>
                                        <div class="dsaProfile"><a
                                                href="https://auth.geeksforgeeks.org/user/itsprince/practice"><img
                                                    src="../dsaProfileImg/gfg.png" alt></a></div>
                                        <div class="dsaProfile"><a
                                                href="https://www.codingninjas.com/codestudio/profile/b7191958-3dea-4d59-a909-70a6bd5400c8"><img
                                                    src="../dsaProfileImg/cn.png" alt></a></div>
                                        <div class="dsaProfile"><a
                                                href="https://www.interviewbit.com/profile/princesingh2002"><img
                                                    src="../dsaProfileImg/ib.png" alt></a></div>
                                        <div class="dsaProfile"><a
                                                href="https://www.hackerrank.com/dsawithprince?hr_r=1"><img
                                                    src="../dsaProfileImg/hr.png" alt></a></div>
                                        <div class="dsaProfile"><a href="https://www.hackerearth.com/@prince1033"><img
                                                    src="../dsaProfileImg/he.png" alt></a></div>
                                        <div class="dsaProfile"><a
                                                href="https://www.codechef.com/users/princesingh001"><img
                                                    src="../dsaProfileImg/cc.png" alt></a></div>
                                        <div class="dsaProfile"><a
                                                href="https://codeforces.com/profile/thisisPrinceSingh"><img
                                                    src="../dsaProfileImg/cf.png" alt></a></div>
                                        <div class="dsaProfile"><a
                                                href="https://workat.tech/profile/itsprincesingh"><img
                                                    src="../dsaProfileImg/wk.png" alt></a></div>
                                        <div class="dsaProfile"><a
                                                href="https://www.linkedin.com/in/prince-singh-314a65187/"><img
                                                    src="../dsaProfileImg/lin.png" alt></a></div>
                                        <div class="dsaProfile"><a href="https://github.com/PrinceSinghhub"><img
                                                    src="../dsaProfileImg/gh.png" alt></a></div>
                                        <div class="dsaProfile"><a href="https://twitter.com/NowPrinceSingh"><img
                                                    src="../dsaProfileImg/tw.png" alt></a></div>
                                        <div class="dsaProfile"><a
                                                href="https://stackoverflow.com/users/16512708/prince-singh"><img
                                                    src="../dsaProfileImg/st.png" alt></a></div>
                                        <div class="dsaProfile"><a href="https://topmate.io/itsprincesingh"><img
                                                    src="../dsaProfileImg/topm.png" alt></a></div>
                                        <div class="dsaProfile"><a href="https://hashnode.com/@itsPrinceSingh"><img
                                                    src="../dsaProfileImg/hn.png" alt></a></div>
                                    </div>
                                </h5>

                                <h1 class="has-text-align-center mb-60">
                                    DPL36 Best Time to Buy and Sell Stock II
                                </h1>

                                <div class="allBTNGroups">
                                    <!-- <button class="hardQst" role="button">ðŸ˜¢ Hard</button> -->
                                    <button class="mediumQst" role="button">ðŸ˜Ÿ
                                        Medium</button>
                                    <!-- <button class="easyQst" role="button">ðŸ˜Š Easy</button>
                    
                    <button class="hardQst" role="button">ðŸ˜¢ Hard</button> -->
                                    <a href><button class="leetcodelink" role="button">
                                            <div class="imgQstDiv">
                                                <img src="../dsaProfileImg/leetcode.webp" alt>LeetCode
                                            </div>
                                        </button></a>
                                    <a href><button class="gfgQstlink" role="button">
                                            <div class="imgQstDiv">
                                                <img src="../dsaProfileImg/geeksforgeeks.png" alt>GeeksForGeeks
                                            </div>
                                        </button></a>
                                    <a href><button class="codslink" role="button">
                                            <div class="imgQstDiv">
                                                <img src="../dsaProfileImg/codeStudio.png" alt>CodeStudio
                                            </div>
                                        </button></a>
                                </div>

                                <!-- Problem Statements  -->

                                <p>
                                    We are given an array Arr[] of length n.
                                    It represents the price of a stock on
                                    â€˜nâ€™
                                    days. The following guidelines need to
                                    be followed:

                                    <br>

                                    <li>We can buy and sell the stock any
                                        number of times.</li>
                                    <li>In order to sell the stock, we need
                                        to first buy it on the same or any
                                        previous
                                        day.</li>
                                    <li>We canâ€™t buy a stock again after
                                        buying it once. In other words, we
                                        first buy a
                                        stock and then sell it. After
                                        selling we can buy and sell again.
                                        But we canâ€™t
                                        sell before buying and canâ€™t buy
                                        before selling any previously bought
                                        stock.
                                    </li>

                                    <br>
                                    <img src="./Notes/L36expImg2.jpg" alt>
                                    <br>

                                    <b>Find and return the maximum profit
                                        you can achieve.</b> <br>
                                    <img src="./Notes/L36expImg1.jpg" alt>

                                </p>

                                <p>
                                    Every day, we will have two choices,
                                    either to do nothing and move to the
                                    next day
                                    or to buy/sell (based on the last
                                    transaction) and find out the profit.
                                    Therefore we
                                    need to generate all the choices in
                                    order to compare the profit. As we need
                                    to try
                                    out all the possible choices, we will
                                    use <b>recursion</b>.
                                </p>

                                <br>
                                <h3>Recursice Approch</h3>

                                <p><b>Again here we follow the out Standerad
                                        Patter that we learned in the
                                        Dynamic
                                        Programming Introduction. How to
                                        Write Recursion</b></p>

                                <b>Steps to form the Recursive Solution</b>
                                <br>

                                <b>Step 1: Express the problem in terms of
                                    indexes.</b><br>

                                <li>
                                    We need to think in the terms of the
                                    number of days, therefore one variable
                                    will be
                                    the array index( say ind). Next, we need
                                    to respect the condition that we canâ€™t
                                    buy
                                    a stock again, that is we need to first
                                    sell a stock, and then we can buy that
                                    again. Therefore we need a second
                                    variable â€˜buyâ€™ which tells us on a
                                    particular day
                                    whether we can buy or sell the stock.

                                    <img src="./Notes/L36resImg1.jpg" alt>
                                    <br>

                                    <b>Step 2: Try out all possible choices
                                        at a
                                        given index.</b> <br>

                                    <p>Every day, we have two choices

                                <li>To either buy/sell the
                                    stock(based on the buy
                                    variableâ€™s value). </li>
                                <li>To do nothing and move on to the
                                    next day.</li>

                                <b>If We Carefully Observed then we
                                    see this Probelem Base on the
                                    pick/notPick concept
                                    that we do in the our Entire dp
                                    Playlist.</b>

                                </p>

                                <b>Case 1: When buy == 0, we can buy the
                                    stock.</b> <br>
                                <p>If we can buy the stock on a
                                    particular day, we have two
                                    options</p>

                                <li><b>Option 1:</b> To do no
                                    transaction and move to the next
                                    day. In this case, the
                                    net profit earned will be 0 from the
                                    current transaction, and to
                                    calculate the
                                    maximum profit starting from the
                                    next day, we will recursively call
                                    f(ind+1,0). As
                                    we have not bought the stock, the
                                    â€˜buyâ€™ variable value will still
                                    remain 0,
                                    indicating that we can buy the stock
                                    the next day. <b>(notTake)</b></li>
                                <br>

                                <li>
                                    <b>Option 2:</b> The other option is
                                    to buy the stock on the current day.
                                    In this
                                    case, the net profit earned from the
                                    current transaction will be
                                    <b>-Arr[i]</b>. As
                                    we are buying the stock, we are
                                    giving money out of our pocket,
                                    therefore the profit
                                    we earn <b>is negative</b>. To
                                    calculate the maximum profit
                                    starting from the next
                                    day, we will recursively call
                                    f(ind+1,1). As we have bought the
                                    stock, the â€˜buyâ€™
                                    variable value will change to 1,
                                    indicating that we canâ€™t buy and
                                    only sell the
                                    stock the next day. <b>(Take)</b>
                                </li> <br>

                                <b>Case 2: When buy == 1, we can sell
                                    the stock.</b>
                                <p>Agin we have If we can buy the stock
                                    on a particular day, we have two
                                    options</p>

                                <li><b>Option 1:</b> To do no
                                    transaction and move to the next
                                    day. In this case, the
                                    net profit earned will be 0 from the
                                    current transaction, and to
                                    calculate the
                                    maximum profit starting from the
                                    next day, we will recursively call
                                    f(ind+1,1). As
                                    we have not bought the stock, the
                                    â€˜buyâ€™ variable value will still
                                    remain at 1,
                                    indicating that we canâ€™t buy and
                                    only sell the stock the next day.
                                    <b>notTake</b>
                                </li> <br>

                                <li><b>Option 2:</b> The other option is
                                    to sell the stock on the current
                                    day. In this
                                    case, the net profit earned from the
                                    current transaction will be <b>
                                        +Arr[i]</b>. As
                                    we are selling the stock, we are
                                    putting the money into our pocket,
                                    therefore the
                                    profit we earn <b>is positive</b>.
                                    To calculate the maximum profit
                                    starting from the
                                    next day, we will recursively call
                                    f(ind+1,0). As we have sold the
                                    stock, the â€˜buyâ€™
                                    variable value will change to 0,
                                    indicating that we can buy the stock
                                    the next day.
                                    <b>Take</b>
                                </li> <br>

                                <b>The figure below gives us the
                                    Summary</b>
                                <img src="./Notes/L36resImg2.jpg" alt>
                                <br>
                                <img src="./Notes/L36resImg3.jpg" alt>
                                <br>

                                <b>Step 3: Return the Maximum</b> <br>

                                <li>As we are looking to maximize the
                                    profit earned, we will return the
                                    maximum value in
                                    both cases. The final pseudocode
                                    after steps 1, 2, and 3
                                </li> <br>

                                <img src="./Notes/L36resImg4.jpg" alt>
                                <br>
                                <b>Base Cases</b>

                                If ind==n, it means we have finished
                                trading on all days, and there is no
                                more money
                                that we can get, therefore we simply
                                return 0. <b>("Does.t Matter if we Have
                                    Some Stocks
                                    are Remaing not at the End Profit
                                    will we 0")</b>

                                <br><br>

                                <div class="container">
                                    <div class="item">
                                        <div class="title"><b>Recursion
                                                Python Code</b></div>
                                        <div class="content">
                                            <div class="code-container">
                                                <pre>
<span class="code-class-name">class</span> Solution:
        
    <span class="code-function-name">def RecursionApproch</span>(<span class="code-class-name">self</span>, prices,index,n,decisionFlag):
        
        <span class="comment-code"># Base Case</span>    
        <span class="code-reserved-word">if</span> index == n:
            <span class="code-reserved-word">return</span> 0
                
        <span class="code-remain-code">maxProfit = 0</span>
                
        <span class="code-reserved-word">if</span> decisionFlag == 1:
        <span class="code-remain-code"><span class="comment-code">    # as similar to take and notTake Concepts</span>
            buyTheStock = -prices[index] + <span class="code-class-name">self</span>.<span class="code-function-name">RecursionApproch</span>(prices,index+1,n,0)
            notBuyTheStock = 0 + <span class="code-class-name">self</span>.<span class="code-function-name">RecursionApproch</span>(prices,index+1,n,1)
            maxProfit = <span class="code-reserved-word">max</span>(buyTheStock,notBuyTheStock)</span>
           
        <span class="code-reserved-word">else:</span>
        <span class="code-remain-code">    shellTheStock = prices[index] + <span class="code-class-name">self</span>.<span class="code-function-name">RecursionApproch</span>(prices, index + 1, n, 1)
            notSellTheStock = 0 + <span class="code-class-name">self</span>.<span class="code-function-name">RecursionApproch</span>(prices, index + 1, n, 0)
            maxProfit = <span class="code-reserved-word">max</span>(shellTheStock, notSellTheStock)
                    </span>
        <span class="code-reserved-word">return</span> maxProfit

    <span class="code-function-name">def maxProfit</span>(<span class="code-class-name">self</span>, prices):
                 
        <span class="code-remain-code">n = <span class="code-reserved-word">len</span>(prices)</span>
        <span class="code-remain-code">decisionFlag = 1</span>
        <span class="code-reserved-word">return</span> <span class="code-class-name">self</span>.<span class="code-function-name">RecursionApproch</span>(prices,0,n,decisionFlag)

<span class="code-remain-code">ans = <span class="code-class-name">Solution()</span></span>
<span class="code-remain-code">prices = [7,1,5,3,6,4]</span>
<span class="code-remain-code"><span class="code-reserved-word">print</span>(ans.<span class="code-function-name">maxProfit(prices)</span>)</span>
        </pre>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <br>

                                <h3>Time & Space Complexity</h3>
                                <b>Time Complexity: O(2^N)</b> <br>

                                Reason: Exponential Time we find out the
                                all
                                the Possible Path<br>

                                <b>Space Complexity: O(N)</b> <br>

                                Reason: We are using a recursion stack
                                space(O(N))<br><br>

                                <h3>Memoization Approch</h3>

                                <p>
                                    If we Observe in the recursion tree,
                                    we
                                    will observe a many number of
                                    overlapping subproblems.
                                    Therefore the recursive solution can
                                    be
                                    memoized for to reduce the time
                                    complexity.
                                </p>

                                <b>Steps to convert Recursive code to
                                    memoization solution:</b> <br><br>

                                <li>Create a dp array of size [n][2].
                                    The size of the input array is â€˜nâ€™,
                                    so the index
                                    will always lie between â€˜0â€™ and
                                    â€˜n-1â€™. The â€˜buyâ€™ variable can take
                                    only two values:
                                    0 and 1. Therefore we take the dp
                                    array as dp[n][2]</li>
                                <br>
                                <li>We initialize the dp array to
                                    -1.</li>
                                <br>
                                <li>Whenever we want to find the answer
                                    to particular parameters (say f(ind,
                                    buy)), we
                                    first check whether the answer is
                                    already calculated using the dp
                                    array(i.e
                                    dp[ind][buy]!= -1 ). If yes, simply
                                    return the value from the dp
                                    array.</li> <br>
                                <li>If not, then we are finding the
                                    answer for the given value for the
                                    first time, we
                                    will use the recursive relation as
                                    usual but before returning from the
                                    function, we
                                    will set dp[ind][buy] to the
                                    solution we get.</li>
                                <br>

                                <div class="container">
                                    <div class="item">
                                        <div class="title"><b>Memoization
                                                Python Code</b></div>
                                        <div class="content">
                                            <div class="code-container">
                                                <pre>
<span class="code-class-name">class</span> Solution:
        
    <span class="code-function-name">def MemoizationApproch</span>(<span class="code-class-name">self</span>, prices,index,n,decisionFlag,dp):

        <span class="comment-code"># Base Case</span>
        <span class="code-reserved-word">if</span> index == n:
            <span class="code-reserved-word">return</span> 0
                
        <span class="code-remain-code"><span class="code-reserved-word">if</span> dp[index][decisionFlag] != -1:
            <span class="code-reserved-word">return</span> dp[index][decisionFlag]</span>

        <span class="code-remain-code">maxProfit = 0</span>
                
        <span class="code-reserved-word">if</span> decisionFlag == 1:
        <span class="code-remain-code"><span class="comment-code">    # as similar to take and notTake Concepts</span>
            buyTheStock = -prices[index] + <span class="code-class-name">self</span>.<span class="code-function-name">MemoizationApproch</span>(prices,index+1,n,0,dp)
            notBuyTheStock = 0 + <span class="code-class-name">self</span>.<span class="code-function-name">MemoizationApproch</span>(prices,index+1,n,1,dp)
            maxProfit = <span class="code-reserved-word">max</span>(buyTheStock,notBuyTheStock)</span>
           
        <span class="code-reserved-word">else:</span>
        <span class="code-remain-code">    shellTheStock = prices[index] + <span class="code-class-name">self</span>.<span class="code-function-name">MemoizationApproch</span>(prices, index + 1, n, 1,dp)
            notSellTheStock = 0 + <span class="code-class-name">self</span>.<span class="code-function-name">MemoizationApproch</span>(prices, index + 1, n, 0,dp)
            maxProfit = <span class="code-reserved-word">max</span>(shellTheStock, notSellTheStock)
                    </span>
        <span class="code-remain-code">dp[index][decisionFlag] = maxProfit</span>
        <span class="comment-code"># we can also return maxProfit its also give the correct answer</span>
        <span class="code-reserved-word">return</span> dp[index][decisionFlag]

    <span class="code-function-name">def maxProfit</span>(<span class="code-class-name">self</span>, prices):
                 
        <span class="code-remain-code">n = <span class="code-reserved-word">len</span>(prices)</span>
        <span class="code-remain-code">decisionFlag = 1</span>
        <span class="code-remain-code">dp = []
        <span class="code-reserved-word">for</span> _ <span class="code-class-name">in</span> <span class="code-function-name">range</span>(n):
            arr = [-1] * (2)
            dp.<span class="code-reserved-word">append</span>(arr)</span>
        <span class="code-reserved-word">return</span> <span class="code-class-name">self</span>.<span class="code-function-name">MemoizationApproch</span>(prices,0,n,decisionFlag,dp)

<span class="code-remain-code">ans = <span class="code-class-name">Solution()</span></span>
<span class="code-remain-code">prices = [7,1,5,3,6,4]</span>
<span class="code-remain-code"><span class="code-reserved-word">print</span>(ans.<span class="code-function-name">maxProfit(prices)</span>)</span>
        </pre>
                                            </div>
                                        </div>
                                    </div>

                                
                                </div>

                                <br>

                                <h3>Time & Space Complexity</h3>

                                <b>Time Complexity:O(N*2)</b> <br>

                                Reason: TThere are N*2 states therefore
                                at max â€˜N*2â€™ new problems will be solved
                                and we
                                are running a for loop for â€˜Nâ€™ times to
                                calculate the total sum<br>

                                <b>Space Complexity: O(N*2) + O(N)</b>
                                <br>

                                Reason: We are using a recursion stack
                                space(O(N)) and a 2D array (
                                O(N*2)).<br><br>

                                <h3>Tabulation Approch</h3>

                                Tabulation is a <b>â€˜bottom-upâ€™</b>
                                approach
                                where we start from the base case and
                                reach
                                the final answer
                                that we want and Memoization is the
                                <b>Top-down</b>
                                Approch.
                                <br>
                                <p>
                                    In Tabulation Approch We Just Creat
                                    a DP
                                    Array Same as Memoization and Simply
                                    Convert the <b>Recurance
                                        Relation into the form of the
                                        Looping</b>
                                </p>

                                <b>VVVV Important Point: Tabulation
                                    Approch
                                    is Always 1-Based Indexing Always
                                    Remember</b> <br><br>

                                <b>Steps to convert Recursive Solution
                                    to
                                    Tabulation one.</b><br>

                                <li>To convert the memoization approach
                                    to a
                                    tabulation one, create a dp array
                                    with
                                    the same size as
                                    done in memoization. We can
                                    initialize
                                    it as 0. (size [n+1][2] as
                                    zero)</li>
                                <br>

                                <img src="./Notes/L36tabImg1.jpg" alt>
                                <br>

                                <li>Next, we set two nested for loops,
                                    the outer loop (for variable ind)
                                    moves from n-1
                                    to 0 and the inner loop (for
                                    variable buy) moves from 0 to
                                    1.</li>
                                <br>
                                <img src="./Notes/L36tabImg2.jpg" alt>
                                <br>
                                <li>In every iteration, we calculate the
                                    value according to the memoization
                                    logic.</li>
                                <br>

                                <li>
                                    At last, we will print dp[0][1] as
                                    our answer.
                                </li>

                                <br>
                                <div class="container">
                                    <div class="item">
                                        <div class="title"><b>Tabulation
                                                Python Code</b></div>
                                        <div class="content">
                                            <div class="code-container">
                                                <pre>
<span class="code-class-name">class</span> Solution:
        
    <span class="code-function-name">def TabulationApproch</span>(<span class="code-class-name">self</span>, prices,n,dp):

        <span class="comment-code"># Base Case</span>
        <span class="code-remain-code">dp[n][0] = 0
        dp[n][1] = 0</span>

        <span class="code-reserved-word">for</span> index <span class="code-class-name">in</span> <span class="code-function-name">range</span>(n-1,-1,-1):
            <span class="code-reserved-word">for</span> decisionFlag <span class="code-class-name">in</span> <span class="code-function-name">range</span>(2):

                <span class="code-remain-code">maxProfit = 0</span>
                <span class="code-reserved-word">if</span> decisionFlag == 1:
                <span class="code-remain-code"><span class="comment-code">    # as similar to take and notTake Concepts</span>
                    <span class="code-remain-code">buyTheStock = -prices[index] + dp[index+1][0]
                    notBuyTheStock = 0 + dp[index+1][1]
                    maxProfit = <span class="code-reserved-word">max</span>(buyTheStock,notBuyTheStock)
                </span>

                <span class="code-reserved-word">else:</span>
                    <span class="code-remain-code">shellTheStock = prices[index] + dp[index+1][1]
                    notSellTheStock = 0 + dp[index+1][0]
                    maxProfit = <span class="code-reserved-word">max</span>(shellTheStock, notSellTheStock)
                </span>

                <span class="code-remain-code">dp[index][decisionFlag] = maxProfit</span>

        <span class="comment-code"># we can also return maxProfit its also give the correct answer</span>
        <span class="code-reserved-word">print</span>(dp)
        <span class="code-reserved-word">return</span> dp[0][1]

    <span class="code-function-name">def maxProfit</span>(<span class="code-class-name">self</span>, prices):
                 
        <span class="code-remain-code">n = <span class="code-reserved-word">len</span>(prices)</span>
        <span class="code-remain-code">decisionFlag = 1</span>
        <span class="code-remain-code">dp = []
        <span class="code-reserved-word">for</span> _ <span class="code-class-name">in</span> <span class="code-function-name">range</span>(n+1):
            arr = [0] * (2)
            dp.<span class="code-reserved-word">append</span>(arr)</span>
        <span class="code-reserved-word">print</span>(dp)
        <span class="code-reserved-word">return</span> <span class="code-class-name">self</span>.<span class="code-function-name">TabulationApproch</span>(prices,n,dp)

<span class="code-remain-code">ans = <span class="code-class-name">Solution()</span></span>
<span class="code-remain-code">prices = [7,1,5,3,6,4]</span>
<span class="code-remain-code"><span class="code-reserved-word">print</span>(ans.<span class="code-function-name">maxProfit(prices)</span>)</span>
        </pre>
                                            </div>
                                        </div>
                                    </div>

                                    
                                </div>

                                <br>

                                <h3>Time & Space Complexity</h3>
                                <b>Time Complexity: O(N*2)</b> <br>

                                Reason: There are two nested loops that
                                account for O(N*2) complexity.<br>

                                <b>Space Complexity: O(N*2)</b> <br>

                                Reason: We are using an external array
                                of size â€˜N*2â€™. Stack Space is
                                eliminated.<br><br>

                                <h3>Space Optimization</h3>

                                <p>
                                    If we closelly Observed <b>if any
                                        Tabulation Approch we used the
                                        Some
                                        Limited Stuff like: dp[ind][buy]
                                        = max(dp[ind+1][buy] , max(
                                        dp[ind+1][!buy]))
                                    </b> for the finding
                                    the our ans then definetly here
                                    <b>Spaced Optimization</b> is
                                    Possible
                                    in that types of Problems. <b>Always
                                        Remember</b>
                                </p>

                                <b>Golden Rule</b>
                                <li>If we required only Prev row and
                                    Prev
                                    Collom then definetly we can Space
                                    Optimized</li>

                                <p>

                                    <li>We see that to calculate a value
                                        of a cell of the dp array, we
                                        need only the
                                        next column values(say ahead).
                                        So, we donâ€™t need to store an
                                        entire 2-D array.
                                        Hence we can space optimize
                                        it.</li> <br>

                                    <img src="./Notes/L36spImg1.jpg" alt> <br>

                                    <li>We take two rows â€˜prevâ€™ and
                                        â€˜curâ€™</li>
                                    <br>
                                    <li>Then we set the nested loops to
                                        calculate the cur column
                                        values.</li> <br>
                                    <li>We replace dp[ind] with cur and
                                        dp[ind+1] with prev in our
                                        memoization code.
                                    </li><br>
                                    <li>Next, we implement the
                                        memoization
                                        logic. We replace dp[i-1] with
                                        prev
                                        and dp[i] by cur</li> <br>
                                    <li>After the inner loop execution,
                                        we set ahead as cur for the next
                                        outer loop
                                        iteration.</li> <br>
                                    <li>At last, we return prev[1] as
                                        our answer.</li>
                                </p>

                                <b>Some Important Points:</b><br>
                                <li>prev = curr: Some Time not working
                                    and
                                    not give a Correct answer, same like
                                    we
                                    face in this Problem due to the
                                    <b>Dynamic
                                        element Allocation</b>
                                </li>
                                <li>So we try at the place of the
                                    <b>prev =
                                        curr</b>
                                <li><b>prev[:] = curr</b></li>
                                <li><b>prev = curr[:]</b></li>
                                </li>

                                <br>
                                <div class="container">
                                    <div class="item">
                                        <div class="title"><b>SpaceOptmized
                                                Python Code</b></div>
                                         <div class="content">
                                            <div class="code-container">
                                                <pre>
<span class="code-class-name">class</span> Solution:
        
    <span class="code-function-name">def SpaceOptimizationApproch</span>(<span class="code-class-name">self</span>, prices,n,prev,curr):

        <span class="comment-code"># Base Case</span>
        <span class="code-remain-code">prev[0] = 0
        prev[1] = 0</span>

        <span class="code-reserved-word">for</span> indx <span class="code-class-name">in</span> <span class="code-function-name">range</span>(n-1,-1,-1):
            <span class="code-reserved-word">for</span> decisionFlag <span class="code-class-name">in</span> <span class="code-function-name">range</span>(2):

                <span class="code-remain-code">maxProfit = 0</span>
                <span class="code-reserved-word">if</span> decisionFlag == 1:
                <span class="code-remain-code"><span class="comment-code">    # as similar to take and notTake Concepts</span>
                    <span class="code-remain-code">buyTheStock = -prices[indx] + prev[0]
                    notBuyTheStock = 0 + prev[1]
                    maxProfit = <span class="code-reserved-word">max</span>(buyTheStock,notBuyTheStock)
                </span>

                <span class="code-reserved-word">else:</span>
                    <span class="code-remain-code">shellTheStock = prices[indx] + prev[1]
                    notSellTheStock = 0 + prev[0]
                    maxProfit = <span class="code-reserved-word">max</span>(shellTheStock, notSellTheStock)
                </span>

                <span class="code-remain-code">curr[decisionFlag] = maxProfit</span>
            
            <span class="code-remain-code">prev = curr</span>

        <span class="comment-code"># we can also return maxProfit its also give the correct answer</span>
        <span class="code-reserved-word">return</span> prev[1]

    <span class="code-function-name">def maxProfit</span>(<span class="code-class-name">self</span>, prices):
                 
        <span class="code-remain-code">n = <span class="code-reserved-word">len</span>(prices)</span>
        <span class="code-remain-code">prev = [0, 0]
        curr = [0, 0]</span>
        <span class="code-reserved-word">return</span> <span class="code-class-name">self</span>.<span class="code-function-name">SpaceOptimizationApproch</span>(prices,n,prev,curr)

<span class="code-remain-code">ans = <span class="code-class-name">Solution()</span></span>
<span class="code-remain-code">prices = [1,2,3,4,5,6,7]</span>
<span class="code-remain-code"><span class="code-reserved-word">print</span>(ans.<span class="code-function-name">maxProfit(prices)</span>)</span>
        </pre>
                                            </div>
                                        </div>
                                    </div>

                                    
                                </div>

                                <br>

                                <h3>Time & Space Complexity</h3>
                                <b>Time Complexity: O(N*2)</b> <br>

                                Reason: There are two nested loops that
                                account for O(N*2) complexity<br>

                                <b>Space Complexity: O(1)</b> <br>

                                Reason: We are using an external array
                                of size â€˜2â€™.<br><br>

                                <h3>Most Space Optimization</h3>
                                <p>If we observe very carefully, we only
                                    require two variables, namely
                                    prices[index + 1]
                                    and prices[index], for calculating
                                    the current day's profit. That's it;
                                    this is the
                                    crux of the question. We just use
                                    these two entities, and with each
                                    iteration, we
                                    update the profit.</p>

                                <div class="container">
                                    <div class="item">
                                        <div class="title"><b>Most
                                                SpaceOptmized
                                                Python Code</b></div>
                                                <div class="content">
                                         <div class="code-container">
                                                <pre>
<span class="code-class-name">class</span> Solution:
        
    <span class="code-function-name">def MostSpaceOptimizationApproch</span>(<span class="code-class-name">self</span>, prices,n):
 
        <span class="code-remain-code">profit = 0</span>
        <span class="code-reserved-word">for</span> index <span class="code-class-name">in</span> <span class="code-function-name">range</span>(n-1):
                                                  
            <span class="code-remain-code">currProfit = prices[index + 1] - prices[index]
            <span class="code-reserved-word">if</span> currProfit > 0:
                profit += currProfit
            </span>
        <span class="code-reserved-word">return</span> profit

    <span class="code-function-name">def maxProfit</span>(<span class="code-class-name">self</span>, prices):
                 
        <span class="code-remain-code">n = <span class="code-reserved-word">len</span>(prices)</span>
        <span class="code-reserved-word">return</span> <span class="code-class-name">self</span>.<span class="code-function-name">MostSpaceOptimizationApproch</span>(prices,n)

<span class="code-remain-code">ans = <span class="code-class-name">Solution()</span></span>
<span class="code-remain-code">prices = [1,2,3,4,5,6,7]</span>
<span class="code-remain-code"><span class="code-reserved-word">print</span>(ans.<span class="code-function-name">maxProfit(prices)</span>)</span>
        </pre>
                                            </div>
                                        </div>
                                    </div>

                                    
                                </div>

                                <br>
                                <h3>Time & Space Complexity</h3>
                                <b>Time Complexity: O(N)</b> <br>

                                Reason: Linear Iteration we used
                                only<br>

                                <b>Space Complexity: O(1)</b> <br>

                                Reason: We are using just 2 variables of
                                the calculating the Profte.<br><br>

                                <!-- codeEditor  -->
                                <div class="QuestionmeraInterviewCodeEditior">
                                    <div class="textEditorMainDiv">
                                        <div class="toolbar">
                                            <div class="head">
                                                <input type="text" placeholder="Filename" value="File Name"
                                                    id="filename">
                                                <select onchange="fileHandle(this.value); this.selectedIndex=0">
                                                    <option value selected hidden disabled>File</option>
                                                    <option value="new">New
                                                        file</option>
                                                    <option value="txt">Save
                                                        as txt</option>
                                                    <option value="pdf">Save
                                                        as pdf</option>
                                                </select>
                                                <select
                                                    onchange="formatDoc('formatBlock', this.value); this.selectedIndex=0;">
                                                    <option value selected hidden disabled>Format</option>
                                                    <option value="h1">Heading
                                                        1</option>
                                                    <option value="h2">Heading
                                                        2</option>
                                                    <option value="h3">Heading
                                                        3</option>
                                                    <option value="h4">Heading
                                                        4</option>
                                                    <option value="h5">Heading
                                                        5</option>
                                                    <option value="h6">Heading
                                                        6</option>
                                                    <option value="p">Paragraph</option>
                                                </select>
                                                <select
                                                    onchange="formatDoc('fontSize', this.value); this.selectedIndex=0;">
                                                    <option value selected hidden disabled>Font
                                                        size</option>
                                                    <option value="1">Extra
                                                        small</option>
                                                    <option value="2">Small</option>
                                                    <option value="3">Regular</option>
                                                    <option value="4">Medium</option>
                                                    <option value="5">Large</option>
                                                    <option value="6">Extra
                                                        Large</option>
                                                    <option value="7">Big</option>
                                                </select>
                                                <div class="color">
                                                    <span>Color</span>
                                                    <input type="color"
                                                        oninput="formatDoc('foreColor', this.value); this.value='#000000';">
                                                </div>
                                                <div class="color">
                                                    <span>Background</span>
                                                    <input type="color"
                                                        oninput="formatDoc('hiliteColor', this.value); this.value='#000000';">
                                                </div>
                                            </div>
                                            <div class="btn-toolbar">
                                                <button onclick="formatDoc('undo')"><i class='bx bx-undo'></i></button>
                                                <button onclick="formatDoc('redo')"><i class='bx bx-redo'></i></button>
                                                <button onclick="formatDoc('bold')"><i class='bx bx-bold'></i></button>
                                                <button onclick="formatDoc('underline')"><i
                                                        class='bx bx-underline'></i></button>
                                                <button onclick="formatDoc('italic')"><i
                                                        class='bx bx-italic'></i></button>
                                                <button onclick="formatDoc('strikeThrough')"><i
                                                        class='bx bx-strikethrough'></i></button>
                                                <button onclick="formatDoc('justifyLeft')"><i
                                                        class='bx bx-align-left'></i></button>
                                                <button onclick="formatDoc('justifyCenter')"><i
                                                        class='bx bx-align-middle'></i></button>
                                                <button onclick="formatDoc('justifyRight')"><i
                                                        class='bx bx-align-right'></i></button>
                                                <button onclick="formatDoc('justifyFull')"><i
                                                        class='bx bx-align-justify'></i></button>
                                                <button onclick="formatDoc('insertOrderedList')"><i
                                                        class='bx bx-list-ol'></i></button>
                                                <button onclick="formatDoc('insertUnorderedList')"><i
                                                        class='bx bx-list-ul'></i></button>
                                                <button onclick="addLink()"><i class='bx bx-link'></i></button>
                                                <button onclick="formatDoc('unlink')"><i
                                                        class='bx bx-unlink'></i></button>
                                                <button id="show-code" data-active="false">&lt;/&gt;</button>
                                            </div>
                                        </div>
                                        <div id="content" contenteditable="true" spellcheck="false">
                                            <b>Interview Docs File
                                                "All the Best" Team
                                                @DSAwithPrinceSingh</b>
                                        </div>
                                    </div>
                                    <script src="../codeEditor.js"></script>
                                </div>

                            </div>
                            <br>

                            <center>~ It's All About ConsistencyðŸ“ˆ
                                DedicationðŸŽ¯ HardWorkðŸ’ª Happy Codingâ¤ï¸
                                ~</center>
                        </div>
                    </div>
                </div>
            </article>
            <!-- #post-## -->
        </main>

        <!-- #main -->
    </div>
    <script src="../script.js"></script>

</body>

</html>